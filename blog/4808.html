<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="Java technology blog.">
  <meta name="keyword" content="hexo-theme, vuejs">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      web前端开发常用代码整理 | Keis Note
    
  </title>
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/gitment.css">
  <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdn.bootcss.com/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
  <script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script>
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


</head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>Keis Note</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">Tags</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">Projects</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">Tags</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">Projects</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  <h2>web前端开发常用代码整理</h2>
  <p class="post-date">2018-04-08</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><p><img src="http://ovi3ob9p4.bkt.clouddn.com/TIETU/CT0171.jpg" alt="image"><br>web前端开发常用代码整理<br><a id="more"></a></p>
<h2 id="IE条件注释"><a href="#IE条件注释" class="headerlink" title="IE条件注释"></a>IE条件注释</h2><p><strong>条件注释简介</strong></p>
<ol>
<li>IE中的条件注释（Conditional comments）对IE的版本和IE非IE有优秀的区分能力，是WEB设计中常用的hack方法。<br>条件注释只能用于IE5以上，IE10以上不支持。</li>
<li>如果你安装了多个IE，条件注释将会以最高版本的IE为标准。</li>
<li>条件注释的基本结构和HTML的注释(&lt;!– –&gt;)是一样的。因此IE以外的浏览器将会把它们看作是普通的注释而完全忽略它们。</li>
<li>IE将会根据if条件来判断是否如解析普通的页面内容一样解析条件注释里的内容。</li>
</ol>
<p><strong>条件注释使用方法示例</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!–-[<span class="keyword">if</span> IE <span class="number">5</span>]&gt;仅IE5<span class="number">.5</span>可见&lt;![endif]–-&gt;</span><br><span class="line">&lt;!–-[<span class="keyword">if</span> gt IE <span class="number">5.5</span>]&gt;仅IE <span class="number">5.5</span>以上可见&lt;![endif]–-&gt;</span><br><span class="line">&lt;!–-[<span class="keyword">if</span> lt IE <span class="number">5.5</span>]&gt;仅IE <span class="number">5.5</span>以下可见&lt;![endif]–-&gt;</span><br><span class="line">&lt;!–-[<span class="keyword">if</span> gte IE <span class="number">5.5</span>]&gt;IE <span class="number">5.5</span>及以上可见&lt;![endif]–-&gt;</span><br><span class="line">&lt;!–-[<span class="keyword">if</span> lte IE <span class="number">5.5</span>]&gt;IE <span class="number">5.5</span>及以下可见&lt;![endif]–-&gt;</span><br><span class="line">&lt;!–-[<span class="keyword">if</span> !IE <span class="number">5.5</span>]&gt;非IE <span class="number">5.5</span>的IE可见&lt;![endif]–-&gt;</span><br></pre></td></tr></table></figure>
<h2 id="html代码用js动态加载进页面"><a href="#html代码用js动态加载进页面" class="headerlink" title="html代码用js动态加载进页面"></a>html代码用js动态加载进页面</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/html"</span> id=<span class="string">"T-pcList"</span>&gt;</span><br><span class="line"> <span class="comment">//这里面是你要放的html代码，例如放一个div的内容</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>把上面的js动态加入到页面中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> s=$(<span class="string">"#T-pcList"</span>).html();<span class="comment">//获得js的html内容</span></span><br><span class="line">$(<span class="string">".picScroll-left .bd"</span>).html(s);<span class="comment">//把s的内容放到class为bd内</span></span><br><span class="line">thisstyle();<span class="comment">//执行某个函数</span></span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="js判断用户访问的是PC还是mobile"><a href="#js判断用户访问的是PC还是mobile" class="headerlink" title="js判断用户访问的是PC还是mobile"></a>js判断用户访问的是PC还是mobile</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> browser=&#123; </span><br><span class="line">    versions:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> u = navigator.userAgent, app = navigator.appVersion;</span><br><span class="line">        <span class="keyword">var</span> sUserAgent = navigator.userAgent;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">        trident: u.indexOf(<span class="string">'Trident'</span>) &gt; <span class="number">-1</span>,</span><br><span class="line">        presto: u.indexOf(<span class="string">'Presto'</span>) &gt; <span class="number">-1</span>, </span><br><span class="line">        isChrome: u.indexOf(<span class="string">"chrome"</span>) &gt; <span class="number">-1</span>, </span><br><span class="line">        isSafari: !u.indexOf(<span class="string">"chrome"</span>) &gt; <span class="number">-1</span> &amp;&amp; (<span class="regexp">/webkit|khtml/</span>).test(u),</span><br><span class="line">        isSafari3: !u.indexOf(<span class="string">"chrome"</span>) &gt; <span class="number">-1</span> &amp;&amp; (<span class="regexp">/webkit|khtml/</span>).test(u) &amp;&amp; u.indexOf(<span class="string">'webkit/5'</span>) != <span class="number">-1</span>,</span><br><span class="line">        webKit: u.indexOf(<span class="string">'AppleWebKit'</span>) &gt; <span class="number">-1</span>, </span><br><span class="line">        gecko: u.indexOf(<span class="string">'Gecko'</span>) &gt; <span class="number">-1</span> &amp;&amp; u.indexOf(<span class="string">'KHTML'</span>) == <span class="number">-1</span>,</span><br><span class="line">        mobile: !!u.match(<span class="regexp">/AppleWebKit.*Mobile.*/</span>), </span><br><span class="line">        ios: !!u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>), </span><br><span class="line">        android: u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Linux'</span>) &gt; <span class="number">-1</span>,</span><br><span class="line">        iPhone: u.indexOf(<span class="string">'iPhone'</span>) &gt; <span class="number">-1</span>, </span><br><span class="line">        iPad: u.indexOf(<span class="string">'iPad'</span>) &gt; <span class="number">-1</span>,</span><br><span class="line">        iWinPhone: u.indexOf(<span class="string">'Windows Phone'</span>) &gt; <span class="number">-1</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(browser.versions.mobile || browser.versions.iWinPhone)&#123;</span><br><span class="line">    <span class="built_in">window</span>.location = <span class="string">"http:/www.baidu.com/m/"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="js如何判断用户是否是用微信浏览器"><a href="#js如何判断用户是否是用微信浏览器" class="headerlink" title="js如何判断用户是否是用微信浏览器"></a>js如何判断用户是否是用微信浏览器</h2><p>根据关键字 MicroMessenger 来判断是否是微信内置的浏览器。判断函数如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isWeiXin</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">    <span class="keyword">var</span> ua = <span class="built_in">window</span>.navigator.userAgent.toLowerCase(); </span><br><span class="line">    <span class="keyword">if</span>(ua.match(<span class="regexp">/MicroMessenger/i</span>) == <span class="string">'micromessenger'</span>)&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>; </span><br><span class="line">    &#125;<span class="keyword">else</span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="JS-Jquery获取各种屏幕的宽度和高度"><a href="#JS-Jquery获取各种屏幕的宽度和高度" class="headerlink" title="JS,Jquery获取各种屏幕的宽度和高度"></a>JS,Jquery获取各种屏幕的宽度和高度</h2><p><strong>Javascript:</strong><br>文档可视区域宽： document.documentElement.clientWidth<br>文档可视区域高： document.documentElement.clientHeight</p>
<p>网页可见区域宽： document.body.clientWidth<br>网页可见区域高： document.body.clientHeight<br>网页可见区域宽： document.body.offsetWidth (包括边线的宽)<br>网页可见区域高： document.body.offsetHeight (包括边线的高)<br>网页正文全文宽： document.body.scrollWidth<br>网页正文全文高： document.body.scrollHeight<br>网页被卷去的高： document.body.scrollTop<br>网页被卷去的左： document.body.scrollLeft<br>网页正文部分上： window.screenTop<br>网页正文部分左： window.screenLeft<br>屏幕分辨率的高： window.screen.height<br>屏幕分辨率的宽： window.screen.width<br>屏幕可用工作区高度： window.screen.availHeight<br>屏幕可用工作区宽度： window.screen.availWidth</p>
<p><strong>JQuery:</strong></p>
<p>$(document).ready(function(){<br>alert($(window).height()); //浏览器当前窗口可视区域高度<br>alert($(document).height()); //浏览器当前窗口文档的高度<br>alert($(document.body).height());//浏览器当前窗口文档body的高度<br>alert($(document.body).outerHeight(true));//浏览器当前窗口文档body的总高度 包括border padding margin</p>
<p>alert($(window).width()); //浏览器当前窗口可视区域宽度<br>alert($(document).width());//浏览器当前窗口文档对象宽度<br>alert($(document.body).width());//浏览器当前窗口文档body的宽度<br>alert($(document.body).outerWidth(true));//浏览器当前窗口文档body的总宽度 包括border padding margin</p>
<p>})</p>
<h2 id="jquery对文本框只读状态与可读状态的相互转化"><a href="#jquery对文本框只读状态与可读状态的相互转化" class="headerlink" title="jquery对文本框只读状态与可读状态的相互转化"></a>jquery对文本框只读状态与可读状态的相互转化</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'input'</span>).removeAttr(<span class="string">'Readonly'</span>);</span><br><span class="line">$(<span class="string">'input'</span>).attr(<span class="string">'Readonly'</span>,<span class="string">'true'</span>);</span><br></pre></td></tr></table></figure>
<h2 id="js-jquery实现密码框输入聚焦，失焦问题"><a href="#js-jquery实现密码框输入聚焦，失焦问题" class="headerlink" title="js/jquery实现密码框输入聚焦，失焦问题"></a>js/jquery实现密码框输入聚焦，失焦问题</h2><p><strong>js实现方法：</strong><br>html代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id=<span class="string">"i_input"</span> type=<span class="string">"text"</span> value=<span class="string">'会员卡号/手机号'</span>  /&gt;</span><br></pre></td></tr></table></figure>
<p>js代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> oIpt = <span class="built_in">document</span>.getElementById(<span class="string">"i_input"</span>);</span><br><span class="line"> <span class="keyword">if</span>(oIpt.value == <span class="string">"会员卡号/手机号"</span>)&#123;</span><br><span class="line"> oIpt.style.color = <span class="string">"#888"</span>;</span><br><span class="line"> &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> oIpt.style.color = <span class="string">"#000"</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> oIpt.onfocus = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">this</span>.value == <span class="string">"会员卡号/手机号"</span>)&#123;</span><br><span class="line">  <span class="keyword">this</span>.value=<span class="string">""</span>;</span><br><span class="line">  <span class="keyword">this</span>.style.color = <span class="string">"#000"</span>;</span><br><span class="line">  <span class="keyword">this</span>.type = <span class="string">"password"</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.style.color = <span class="string">"#000"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"> oIpt.onblur = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">this</span>.value == <span class="string">""</span>)&#123;</span><br><span class="line">  <span class="keyword">this</span>.value=<span class="string">"会员卡号/手机号"</span>;</span><br><span class="line">  <span class="keyword">this</span>.style.color = <span class="string">"#888"</span>;</span><br><span class="line">  <span class="keyword">this</span>.type = <span class="string">"text"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>jquery实现方法:</strong><br>html代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"text"</span>  <span class="class"><span class="keyword">class</span></span>=<span class="string">"oldpsw"</span> id=<span class="string">"showPwd"</span> value=<span class="string">"请输入您的注册密码"</span>/&gt;</span><br><span class="line">&lt;input type=<span class="string">"password"</span> name=<span class="string">"psw"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"oldpsw"</span> id=<span class="string">"password"</span> value=<span class="string">""</span> style=<span class="string">"display:none;"</span>/&gt;</span><br></pre></td></tr></table></figure>
<p>jquery代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"#showPwd"</span>).focus(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> text_value=$(<span class="keyword">this</span>).val();</span><br><span class="line">    <span class="keyword">if</span> (text_value ==<span class="string">'请输入您的注册密码'</span>) &#123;</span><br><span class="line">    $(<span class="string">"#showPwd"</span>).hide();</span><br><span class="line">    $(<span class="string">"#password"</span>).show().focus();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">$(<span class="string">"#password"</span>).blur(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> text_value = $(<span class="keyword">this</span>).val();</span><br><span class="line">    <span class="keyword">if</span> (text_value == <span class="string">""</span>) &#123;</span><br><span class="line">        $(<span class="string">"#showPwd"</span>).show();</span><br><span class="line">        $(<span class="string">"#password"</span>).hide();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="获取当前日期"><a href="#获取当前日期" class="headerlink" title="获取当前日期"></a>获取当前日期</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> calculateDate = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> weeks = [<span class="string">"日"</span>,<span class="string">"一"</span>,<span class="string">"二"</span>,<span class="string">"三"</span>,<span class="string">"四"</span>,<span class="string">"五"</span>,<span class="string">"六"</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> date.getFullYear()+<span class="string">"年"</span>+(date.getMonth()+<span class="number">1</span>)+<span class="string">"月"</span>+</span><br><span class="line"></span><br><span class="line">      date.getDate()+<span class="string">"日 星期"</span>+weeks[date.getDay()];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">$(<span class="string">"#dateSpan"</span>).html(calculateDate());</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="时间倒计时（固定倒计时的结束时间）"><a href="#时间倒计时（固定倒计时的结束时间）" class="headerlink" title="时间倒计时（固定倒计时的结束时间）"></a>时间倒计时（固定倒计时的结束时间）</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countdown</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> endtime = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"Jan 18, 2015 23:50:00"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> nowtime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (nowtime &gt;= endtime) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"_lefttime"</span>).innerHTML = <span class="string">"倒计时间结束"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> leftsecond = <span class="built_in">parseInt</span>((endtime.getTime() - nowtime.getTime()) / <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (leftsecond &lt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">        leftsecond = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    __d = <span class="built_in">parseInt</span>(leftsecond / <span class="number">3600</span> / <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">    __h = <span class="built_in">parseInt</span>((leftsecond / <span class="number">3600</span>) % <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">    __m = <span class="built_in">parseInt</span>((leftsecond / <span class="number">60</span>) % <span class="number">60</span>); </span><br><span class="line"></span><br><span class="line">    __s = <span class="built_in">parseInt</span>(leftsecond % <span class="number">60</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"_lefttime"</span>).innerHTML = __d + <span class="string">"天"</span> + __h + <span class="string">"小时"</span> + __m + <span class="string">"分"</span> + __s + <span class="string">"秒"</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">countdown();</span><br><span class="line"></span><br><span class="line">setInterval(countdown, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<h2 id="10秒倒计时跳转"><a href="#10秒倒计时跳转" class="headerlink" title="10秒倒计时跳转"></a>10秒倒计时跳转</h2><p>html代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"showtimes"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>js代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设定倒数秒数  </span></span><br><span class="line"><span class="keyword">var</span> t = <span class="number">10</span>;  </span><br><span class="line"></span><br><span class="line"><span class="comment">//显示倒数秒数  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showTime</span>(<span class="params"></span>)</span>&#123;  </span><br><span class="line"></span><br><span class="line">    t -= <span class="number">1</span>;  </span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'showtimes'</span>).innerHTML= t;  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(t==<span class="number">0</span>)&#123;  </span><br><span class="line"></span><br><span class="line">        location.href=<span class="string">'error404.asp'</span>;  </span><br><span class="line"></span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">//每秒执行一次,showTime()  </span></span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="string">"showTime()"</span>,<span class="number">1000</span>);  </span><br><span class="line"></span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">//执行showTime()  </span></span><br><span class="line">showTime();</span><br></pre></td></tr></table></figure>
<h2 id="判断浏览器的简单有效方法"><a href="#判断浏览器的简单有效方法" class="headerlink" title="判断浏览器的简单有效方法"></a>判断浏览器的简单有效方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInternet</span>(<span class="params"></span>)</span>&#123;    </span><br><span class="line">    <span class="keyword">if</span>(navigator.userAgent.indexOf(<span class="string">"MSIE"</span>)&gt;<span class="number">0</span>) &#123;    </span><br><span class="line">      <span class="keyword">return</span> <span class="string">"MSIE"</span>;       <span class="comment">//IE浏览器  </span></span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(isFirefox=navigator.userAgent.indexOf(<span class="string">"Firefox"</span>)&gt;<span class="number">0</span>)&#123;    </span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Firefox"</span>;     <span class="comment">//Firefox浏览器  </span></span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(isSafari=navigator.userAgent.indexOf(<span class="string">"Safari"</span>)&gt;<span class="number">0</span>) &#123;    </span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Safari"</span>;      <span class="comment">//Safan浏览器  </span></span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(isCamino=navigator.userAgent.indexOf(<span class="string">"Camino"</span>)&gt;<span class="number">0</span>)&#123;    </span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Camino"</span>;   <span class="comment">//Camino浏览器  </span></span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span>(isMozilla=navigator.userAgent.indexOf(<span class="string">"Gecko/"</span>)&gt;<span class="number">0</span>)&#123;    </span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Gecko"</span>;    <span class="comment">//Gecko浏览器  </span></span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="每隔0-1s改变图片的路径"><a href="#每隔0-1s改变图片的路径" class="headerlink" title="每隔0.1s改变图片的路径"></a>每隔0.1s改变图片的路径</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"tt"</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>/&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>js代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">chagesimagesrc</span>(<span class="params">t</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"tt"</span>).childNodes[<span class="number">0</span>].src=<span class="string">"images/"</span>+t+<span class="string">".jpg"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">2</span>;i++)&#123;</span><br><span class="line"></span><br><span class="line">            setTimeout((<span class="function"><span class="keyword">function</span>(<span class="params">t</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">                    chagesimagesrc(t);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;)(i+<span class="number">1</span>),i*<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<h2 id="点击某个div区域之外，隐藏该div"><a href="#点击某个div区域之外，隐藏该div" class="headerlink" title="点击某个div区域之外，隐藏该div"></a>点击某个div区域之外，隐藏该div</h2><p>一般写法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> target = $(e.target);</span><br><span class="line">    <span class="keyword">if</span>(target.closest(<span class="string">".city_box,#city_select a.selected"</span>).length == <span class="number">0</span>)&#123;</span><br><span class="line">    $(<span class="string">".city_box"</span>).hide();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>更全的方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _con = $(<span class="string">' 目标区域 '</span>);   <span class="comment">// 设置目标区域</span></span><br><span class="line">  <span class="keyword">if</span>(!_con.is(e.target) &amp;&amp; _con.has(e.target).length === <span class="number">0</span>)&#123; <span class="comment">// Mark 1</span></span><br><span class="line">    some code...   <span class="comment">// 功能代码</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/* Mark 1 的原理：</span></span><br><span class="line"><span class="comment">判断点击事件发生在区域外的条件是：</span></span><br><span class="line"><span class="comment">1. 点击事件的对象不是目标区域本身</span></span><br><span class="line"><span class="comment">2. 事件对象同时也不是目标区域的子元素</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h2 id="js获取某年某月的哪些天是周六和周日"><a href="#js获取某年某月的哪些天是周六和周日" class="headerlink" title="js获取某年某月的哪些天是周六和周日"></a>js获取某年某月的哪些天是周六和周日</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;p id=<span class="string">"text"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"> </span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">time</span>(<span class="params">y,m</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tempTime = <span class="keyword">new</span> <span class="built_in">Date</span>(y,m,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">var</span> saturday = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    <span class="keyword">var</span> sunday = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=tempTime.getDate();i++)&#123;</span><br><span class="line">        time.setFullYear(y,m<span class="number">-1</span>,i);</span><br><span class="line">        <span class="keyword">var</span> day = time.getDay();</span><br><span class="line">        <span class="keyword">if</span>(day == <span class="number">6</span>)&#123;</span><br><span class="line">            saturday.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(day == <span class="number">0</span>)&#123;</span><br><span class="line">            sunday.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> text = y+<span class="string">"年"</span>+m+<span class="string">"月份"</span>+<span class="string">"&lt;br /&gt;"</span></span><br><span class="line">                +<span class="string">"周六："</span>+saturday.toString()+<span class="string">"&lt;br /&gt;"</span></span><br><span class="line">                +<span class="string">"周日："</span>+sunday.toString();</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"text"</span>).innerHTML = text;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">time(<span class="number">2014</span>,<span class="number">7</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="如何在手机上禁止浏览器的网页滚动"><a href="#如何在手机上禁止浏览器的网页滚动" class="headerlink" title="如何在手机上禁止浏览器的网页滚动"></a>如何在手机上禁止浏览器的网页滚动</h2><p>方法一：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;body ontouchmove=<span class="string">"event.preventDefault()"</span> &gt;</span><br></pre></td></tr></table></figure>
<p>方法二：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.addEventListener(<span class="string">'touchmove'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    event.preventDefault();</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"> &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="改变type-file默认样式，”浏览”等字体"><a href="#改变type-file默认样式，”浏览”等字体" class="headerlink" title="改变type=file默认样式，”浏览”等字体"></a>改变type=file默认样式，”浏览”等字体</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> id=<span class="string">"browsefile"</span> style=<span class="string">"visibility:hidden"</span> onchange=<span class="string">"filepath.value=this.value"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;input type=<span class="string">"button"</span> id=<span class="string">"filebutton"</span> value=<span class="string">""</span> onclick=<span class="string">"browsefile.click()"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;input type=<span class="string">"textfield"</span> id=<span class="string">"filepath"</span>&gt;</span><br></pre></td></tr></table></figure>
<h2 id="js判断变量是否未定义的代码"><a href="#js判断变量是否未定义的代码" class="headerlink" title="js判断变量是否未定义的代码"></a>js判断变量是否未定义的代码</h2><p>一般如果变量通过var声明，但是并未初始化的时候，变量的值为undefined，而未定义的变量则需要通过 “typeof 变量”的形式来判断，否则会发生错误。<br>实际应用：<br>variable有的页面我们不定义,但有的页面定义了，就可以需要这样的判断方法，没有定义的就不执行。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="string">"undefined"</span> != <span class="keyword">typeof</span> variable)&#123; </span><br><span class="line">    <span class="keyword">if</span>(variable==<span class="string">"abc"</span>)&#123; </span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'成功'</span>); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="针对IE6，7的hack，该怎么写"><a href="#针对IE6，7的hack，该怎么写" class="headerlink" title="针对IE6，7的hack，该怎么写"></a>针对IE6，7的hack，该怎么写</h2><p>你可能会这么回答：使用<code>“&gt;”，“_”，“*”</code>等各种各样的符号来写hack。是的，这样做没错，但是需要记住每个符号分别被哪些浏览器识别，并且如果写的太乱将造成代码 阅读起来十分困难。学习CSS必须抱有一种质疑精神，有没有一种hack方法可以不写这些乱七八糟的符号，并且代码易维护易读呢？我们可以看看好搜首页是怎么做的：在页面顶端有这样一句话：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"utf-8"</span>/&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;!--[<span class="keyword">if</span> lt IE <span class="number">7</span> ]&gt;<span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">class</span>=<span class="string">"ie6"</span>&gt;</span><span class="tag">&lt;<span class="name">![endif]--</span>&gt;</span></span></span><br><span class="line">&lt;!--[if IE 7 ]&gt;&lt;html class="ie7"&gt;&lt;![endif]--&gt;</span><br><span class="line">&lt;!--[if IE 8 ]&gt;&lt;html class="ie8"&gt;&lt;![endif]--&gt;</span><br><span class="line">&lt;!--[if IE 9 ]&gt;&lt;html class="ie9"&gt;&lt;![endif]--&gt;</span><br><span class="line">&lt;!--[if (gt IE 9)|!(IE)]&gt;&lt;!--&gt;&lt;html class="w3c"&gt;&lt;!--&lt;![endif]--&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure>
<p>在页面的CSS中，会看到这样的规则：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.ie7 #hd_usernav:before, .ie8 #hd_usernav:before &#123;</span><br><span class="line">    display: none</span><br><span class="line">&#125;</span><br><span class="line">.ie6 .skin_no #hd_nav li, .ie7 .skin_no #hd_nav li, .ie8 .skin_no #hd_nav li &#123;</span><br><span class="line">    border-right-color: #c5c5c5</span><br><span class="line">&#125;</span><br><span class="line">.ie6 .skin_no #hd_nav a, .ie7 .skin_no #hd_nav a, .ie8 .skin_no #hd_nav a &#123;</span><br><span class="line">    color: #c5c5c5</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="行内级元素可以设置宽高吗？有哪些？"><a href="#行内级元素可以设置宽高吗？有哪些？" class="headerlink" title="行内级元素可以设置宽高吗？有哪些？"></a>行内级元素可以设置宽高吗？有哪些？</h2><p>在面试时，当被问到行内级元素可否设置宽高时，根据我们的经验往往会回答不能。但是这样往往着了面试官的道，因为有一些特殊的行内元素，比如<code>img，input，select</code>等等，是可以被设置宽高的。一个内容不受CSS视觉格式化模型控制，CSS渲染模型并不考虑对此内容的渲染，且元素本身一般拥有固有尺寸（宽度，高度，宽高比）的元素，被称之为<code>置换元素</code>。比如img是一个置换元素，当不对它设置宽高时，它会按照本身的宽高进行显示。所以这个问题的正确答案应该是<code>置换元素可以，非置换元素不可以</code>。</p>
<h2 id="js动态创建css样式添加到head内"><a href="#js动态创建css样式添加到head内" class="headerlink" title="js动态创建css样式添加到head内"></a>js动态创建css样式添加到head内</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addCSS</span>(<span class="params">cssText</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>);</span><br><span class="line">    <span class="keyword">var</span> head = <span class="built_in">document</span>.head || <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>];</span><br><span class="line">    style.type = <span class="string">'text/css'</span>; </span><br><span class="line">    <span class="keyword">if</span>(style.styleSheet)&#123; <span class="comment">//IE</span></span><br><span class="line">        <span class="keyword">var</span> func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123; </span><br><span class="line">                <span class="comment">//防止IE中stylesheet数量超过限制而发生错误</span></span><br><span class="line">                style.styleSheet.cssText = cssText;</span><br><span class="line">            &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果当前styleSheet还不能用，则放到异步中则行</span></span><br><span class="line">        <span class="keyword">if</span>(style.styleSheet.disabled)&#123;</span><br><span class="line">            setTimeout(func,<span class="number">10</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            func();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123; <span class="comment">//w3c</span></span><br><span class="line">        <span class="comment">//w3c浏览器中只要创建文本节点插入到style元素中就行了</span></span><br><span class="line">        <span class="keyword">var</span> textNode = <span class="built_in">document</span>.createTextNode(cssText);</span><br><span class="line">        style.appendChild(textNode);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//把创建的style元素插入到head中</span></span><br><span class="line">    head.appendChild(style);     </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">addCSS(<span class="string">'#demo&#123; height: 30px; background:#f00;&#125;'</span>);</span><br></pre></td></tr></table></figure>
<p>在IE8以及其低版本浏览器下，IE独有属性styleSheet.cssText。所以一般的兼容简单写法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>);</span><br><span class="line">style.type = <span class="string">"text/css"</span>;</span><br><span class="line"><span class="keyword">if</span> (style.styleSheet) &#123; <span class="comment">//IE</span></span><br><span class="line">    style.styleSheet.cssText = <span class="string">'/*..css content here..*/'</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">//w3c</span></span><br><span class="line">    style.innerHTML = <span class="string">'/*..css content here..*/'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(style);</span><br></pre></td></tr></table></figure>
<h2 id="form表单提交时设置编码格式"><a href="#form表单提交时设置编码格式" class="headerlink" title="form表单提交时设置编码格式"></a>form表单提交时设置编码格式</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;form name=<span class="string">"form"</span> method=<span class="string">"post"</span> action=<span class="string">"XXXX"</span> accept-charset=<span class="string">"utf-8"</span>  onsubmit=<span class="string">"document.charset='utf-8';"</span>&gt;  </span><br><span class="line"> <span class="comment">//内容</span></span><br><span class="line">&lt;<span class="regexp">/form&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="js-加入收藏代码"><a href="#js-加入收藏代码" class="headerlink" title="js 加入收藏代码"></a>js 加入收藏代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addFavorite</span>(<span class="params">title, url</span>) </span>&#123;</span><br><span class="line">     url = <span class="built_in">encodeURI</span>(url);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="built_in">window</span>.external.addFavorite(url, title);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="built_in">window</span>.sidebar.addPanel(title, url, <span class="string">""</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            alert(<span class="string">"加入收藏失败,Ctrl+D进行添加"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    addFavorite(<span class="built_in">document</span>.title,<span class="built_in">window</span>.location);</span><br></pre></td></tr></table></figure>
<p>打印方法：（整个页面 window.print()）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Printpart</span>(<span class="params">id_str</span>)//<span class="title">id</span>-<span class="title">str</span> 内容中的<span class="title">id</span></span>&#123;</span><br><span class="line"><span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(id_str);</span><br><span class="line"><span class="keyword">var</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">'IFRAME'</span>);</span><br><span class="line"><span class="keyword">var</span> doc = <span class="literal">null</span>;</span><br><span class="line">iframe.setAttribute(<span class="string">'style'</span>, <span class="string">'position:absolute;width:0px;height:0px;left:-500px;top:-500px;'</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(iframe);</span><br><span class="line">doc = iframe.contentWindow.document;</span><br><span class="line">doc.write(<span class="string">'&lt;div&gt;'</span> + el.innerHTML + <span class="string">'&lt;/div&gt;'</span>);</span><br><span class="line">doc.close();</span><br><span class="line">iframe.contentWindow.focus();</span><br><span class="line">iframe.contentWindow.print();</span><br><span class="line"><span class="keyword">if</span> (navigator.userAgent.indexOf(<span class="string">"MSIE"</span>) &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">document</span>.body.removeChild(iframe);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考地址：<br><a href="http://www.cnblogs.com/yeminglong/archive/2012/12/03/2799957.html" target="_blank" rel="noopener">http://www.cnblogs.com/yeming…</a><br><a href="http://www.cnblogs.com/jikey/archive/2011/06/22/2087683.html" target="_blank" rel="noopener">http://www.cnblogs.com/jikey/…</a></p>
<h2 id="js强制手机页面横屏显示"><a href="#js强制手机页面横屏显示" class="headerlink" title="js强制手机页面横屏显示"></a>js强制手机页面横屏显示</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$( <span class="built_in">window</span> ).on( <span class="string">"orientationchange"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"> event </span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (event.orientation==<span class="string">'portrait'</span>) &#123;</span><br><span class="line">        $(<span class="string">'body'</span>).css(<span class="string">'transform'</span>, <span class="string">'rotate(90deg)'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">'body'</span>).css(<span class="string">'transform'</span>, <span class="string">'rotate(0deg)'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">$( <span class="built_in">window</span> ).orientationchange();</span><br></pre></td></tr></table></figure>
<h2 id="jquery获得select中option的索引"><a href="#jquery获得select中option的索引" class="headerlink" title="jquery获得select中option的索引"></a>jquery获得select中option的索引</h2><p>html代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;select <span class="class"><span class="keyword">class</span></span>=<span class="string">"select-green"</span>&gt;</span><br><span class="line">    &lt;option value=<span class="string">"0"</span>&gt;高级客户经理&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">    &lt;option value="1"&gt;中级客户经理&lt;/</span>option&gt;</span><br><span class="line">&lt;<span class="regexp">/select&gt;</span></span><br></pre></td></tr></table></figure>
<p>jquery代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">".select-green"</span>).change(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _indx = $(<span class="keyword">this</span>).get(<span class="number">0</span>).selectedIndex;</span><br><span class="line">    $(<span class="string">".selectall .selectCon"</span>).hide();</span><br><span class="line">    $(<span class="string">".selectall .selectCon"</span>).eq(_indx).fadeIn();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：其中(this).get(0)与(this)[0]等价</p>
</blockquote>
<h2 id="获取上传文件的大小"><a href="#获取上传文件的大小" class="headerlink" title="获取上传文件的大小"></a>获取上传文件的大小</h2><p>html代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> id=<span class="string">"filePath"</span> onchange=<span class="string">"getFileSize(this)"</span>/&gt;</span><br></pre></td></tr></table></figure>
<p>js代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//兼容IE9低版本获取文件的大小</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFileSize</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> filesize;</span><br><span class="line">    <span class="keyword">if</span>(obj.files)&#123;</span><br><span class="line">        filesize = obj.files[<span class="number">0</span>].size;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> path,fso; </span><br><span class="line">            path = <span class="built_in">document</span>.getElementById(<span class="string">'filePath'</span>).value;</span><br><span class="line">            fso = <span class="keyword">new</span> ActiveXObject(<span class="string">"Scripting.FileSystemObject"</span>); </span><br><span class="line">            filesize = fso.GetFile(path).size; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span>(e)&#123;</span><br><span class="line">            <span class="comment">//在IE9及低版本浏览器，如果不容许ActiveX控件与页面交互，点击了否，就无法获取size</span></span><br><span class="line">            <span class="built_in">console</span>.log(e.message); <span class="comment">//Automation 服务器不能创建对象</span></span><br><span class="line">            filesize = <span class="string">'error'</span>; <span class="comment">//无法获取</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> filesize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="限制上传文件的类型"><a href="#限制上传文件的类型" class="headerlink" title="限制上传文件的类型"></a>限制上传文件的类型</h2><p>如果是高版本浏览器，一般在HTML代码中写就能实现，如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> name=<span class="string">"filePath"</span> accept=<span class="string">".jpg,.jpeg,.doc,.docxs,.pdf"</span>&gt;</span><br></pre></td></tr></table></figure>
<p>如果限制上传文件为图片类型，如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"file"</span> value=<span class="string">"上传"</span> accept=<span class="string">"image/*"</span>/&gt;</span><br></pre></td></tr></table></figure>
<p>但是在其它低版本浏览器就不管用了，需要js来判断。</p>
<p>html代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"file"</span> id=<span class="string">"filePath"</span> onchange=<span class="string">"limitTypes()"</span>/&gt;</span><br></pre></td></tr></table></figure>
<p>js代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 通过扩展名，检验文件格式。</span></span><br><span class="line"><span class="comment"> *@parma filePath&#123;string&#125; 文件路径</span></span><br><span class="line"><span class="comment"> *@parma acceptFormat&#123;Array&#125; 允许的文件类型</span></span><br><span class="line"><span class="comment"> *@result 返回值&#123;Boolen&#125;：true or false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkFormat</span>(<span class="params">filePath,acceptFormat</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> resultBool= <span class="literal">false</span>,</span><br><span class="line">        ex = filePath.substring(filePath.lastIndexOf(<span class="string">'.'</span>) + <span class="number">1</span>);</span><br><span class="line">        ex = ex.toLowerCase();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; acceptFormat.length; i++)&#123;</span><br><span class="line">    　　<span class="keyword">if</span>(acceptFormat[i] == ex)&#123;</span><br><span class="line">            resultBool = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    　　&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultBool;</span><br><span class="line">&#125;;</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">limitTypes</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="built_in">document</span>.getElementById(<span class="string">'filePath'</span>);</span><br><span class="line">    <span class="keyword">var</span> path = obj.value;</span><br><span class="line">    <span class="keyword">var</span> result = checkFormat(path,[<span class="string">'bmp'</span>,<span class="string">'jpg'</span>,<span class="string">'jpeg'</span>,<span class="string">'png'</span>]);</span><br><span class="line">    <span class="keyword">if</span>(!result)&#123;</span><br><span class="line">        alert(<span class="string">'上传类型错误，请重新上传'</span>);</span><br><span class="line">        obj.value = <span class="string">''</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="随机产生lowwer-upper之间的随机数"><a href="#随机产生lowwer-upper之间的随机数" class="headerlink" title="随机产生lowwer - upper之间的随机数"></a>随机产生lowwer - upper之间的随机数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectFrom</span>(<span class="params">lower, upper</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> sum = upper - lower + <span class="number">1</span>; <span class="comment">//总数-第一个数+1</span></span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * sum + lower);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="保留后端传递到前端页面的空格"><a href="#保留后端传递到前端页面的空格" class="headerlink" title="保留后端传递到前端页面的空格"></a>保留后端传递到前端页面的空格</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objt = &#123;</span><br><span class="line">        name:<span class="string">' aaaa    这是一个空格多的标签   这是一个空格多的标签'</span></span><br><span class="line">    &#125;</span><br><span class="line">    objt.name = objt.name.replace(<span class="regexp">/\s/g</span>,<span class="string">'&amp;nbsp;'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(objt.name);</span><br></pre></td></tr></table></figure>
<p>用firebug查看结果：<br><img src="https://segmentfault.com/img/bVRL0V?w=633&amp;h=19" alt="图片描述"></p>
<h2 id="为什么Image对象的src属性要写在onload事件后面？"><a href="#为什么Image对象的src属性要写在onload事件后面？" class="headerlink" title="为什么Image对象的src属性要写在onload事件后面？"></a>为什么Image对象的src属性要写在onload事件后面？</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> image=<span class="keyword">new</span> Image();</span><br><span class="line">imgae.onload = funtion;</span><br><span class="line">imgae.src = <span class="string">'url'</span></span><br></pre></td></tr></table></figure>
<p>js内部是按顺序逐行执行的，可以认为是同步的<br>给imgae赋值src时，去加载图片这个过程是异步的，这个异步过程完成后，如果有onload，则执行onload</p>
<p>如果先赋值src，那么这个异步过程可能在你赋值onload之前就完成了（比如图片缓存，或者是js由于某些原因被阻塞了），那么onload就不会执行<br>反之，js同步执行确定onload赋值完成后才会赋值src,可以保证这个异步过程在onload赋值完成后才开始进行，也就保证了onload一定会被执行到</p>
<h2 id="跨浏览器添加事件"><a href="#跨浏览器添加事件" class="headerlink" title="跨浏览器添加事件"></a>跨浏览器添加事件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//跨浏览器添加事件</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">addEvent</span>(<span class="params">obj,type,fn</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.addEventListener)&#123;</span><br><span class="line">            obj.addEventListener(type,fn,<span class="literal">false</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(obj.attachEvent)&#123;<span class="comment">//IE</span></span><br><span class="line">            obj.attchEvent(<span class="string">'on'</span>+type,fn);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="跨浏览器移除事件"><a href="#跨浏览器移除事件" class="headerlink" title="跨浏览器移除事件"></a>跨浏览器移除事件</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//跨浏览器移除事件</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeEvent</span>(<span class="params">obj,type,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(obj.removeEventListener)&#123;</span><br><span class="line">        obj.removeEventListener(type,fn,<span class="literal">false</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(obj.detachEvent)&#123;<span class="comment">//兼容IE</span></span><br><span class="line">        obj.detachEvent(<span class="string">'on'</span>+type,fn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="跨浏览器阻止默认行为"><a href="#跨浏览器阻止默认行为" class="headerlink" title="跨浏览器阻止默认行为"></a>跨浏览器阻止默认行为</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//跨浏览器阻止默认行为</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">preDef</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> e = ev || <span class="built_in">window</span>.event;</span><br><span class="line">        <span class="keyword">if</span>(e.preventDefault)&#123;</span><br><span class="line">            e.preventDefault();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            e.returnValue =<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="跨浏览器获取目标对象"><a href="#跨浏览器获取目标对象" class="headerlink" title="跨浏览器获取目标对象"></a>跨浏览器获取目标对象</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//跨浏览器获取目标对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTarget</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ev.target)&#123;<span class="comment">//w3c</span></span><br><span class="line">        <span class="keyword">return</span> ev.target;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">window</span>.event.srcElement)&#123;<span class="comment">//IE</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.event.srcElement;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="跨浏览器获取滚动条位置"><a href="#跨浏览器获取滚动条位置" class="headerlink" title="跨浏览器获取滚动条位置"></a>跨浏览器获取滚动条位置</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//跨浏览器获取滚动条位置，sp == scroll position</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getSP</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>&#123;</span><br><span class="line">            top: <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop,</span><br><span class="line">            left : <span class="built_in">document</span>.documentElement.scrollLeft || <span class="built_in">document</span>.body.scrollLeft;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="跨浏览器获取可视窗口大小"><a href="#跨浏览器获取可视窗口大小" class="headerlink" title="跨浏览器获取可视窗口大小"></a>跨浏览器获取可视窗口大小</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//跨浏览器获取可视窗口大小</span></span><br><span class="line">          <span class="function"><span class="keyword">function</span>  <span class="title">getWindow</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">window</span>.innerWidth !=<span class="string">'undefined'</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>&#123;</span><br><span class="line">                    width : <span class="built_in">window</span>.innerWidth,</span><br><span class="line">                    height : <span class="built_in">window</span>.innerHeight</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    width : <span class="built_in">document</span>.documentElement.clientWidth,</span><br><span class="line">                    height : <span class="built_in">document</span>.documentElement.clientHeight</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h2 id="js-对象冒充"><a href="#js-对象冒充" class="headerlink" title="js 对象冒充"></a>js 对象冒充</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type = <span class="string">'text/javascript'</span>&gt;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name , age</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name ;</span><br><span class="line">        <span class="keyword">this</span>.age = age ;</span><br><span class="line">        <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"name : "</span>+ <span class="keyword">this</span>.name + <span class="string">" age: "</span>+<span class="keyword">this</span>.age ;</span><br><span class="line">        &#125; ;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>() ;<span class="comment">//可以简化为Object()</span></span><br><span class="line">    Person.call(o , <span class="string">"zhangsan"</span> , <span class="number">20</span>) ;</span><br><span class="line">    <span class="built_in">console</span>.log(o.say() );<span class="comment">//name : zhangsan age: 20 </span></span><br><span class="line"> </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="js-异步加载和同步加载"><a href="#js-异步加载和同步加载" class="headerlink" title="js 异步加载和同步加载"></a>js 异步加载和同步加载</h2><p>异步加载也叫非阻塞模式加载，浏览器在下载js的同时，同时还会执行后续的页面处理。<br>在script标签内，用js创建一个script元素并插入到document中，这种就是异步加载js文件了：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;     </span><br><span class="line">    <span class="keyword">var</span> s = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);    </span><br><span class="line">    s.type = <span class="string">'text/javascript'</span>;     </span><br><span class="line">    s.async = <span class="literal">true</span>;    </span><br><span class="line">    s.src = <span class="string">'http://yourdomain.com/script.js'</span>;    </span><br><span class="line">    <span class="keyword">var</span> x = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'script'</span>)[<span class="number">0</span>];    </span><br><span class="line">     x.parentNode.insertBefore(s, x); </span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p><strong>同步加载</strong></p>
<p>平常默认用的都是同步加载。如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"http://yourdomain.com/script.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>同步模式又称阻塞模式，会阻止流览器的后续处理。停止了后续的文件的解析，执行，如图像的渲染。浏览器之所以会采用同步模式，是因为加载的js文件中有对dom的操作，重定向，输出document等默认行为，所以同步才是最安全的。</p>
<p>通常会把要加载的js放到body结束标签之前，使得js可在页面最后加载，尽量减少阻塞页面的渲染。这样可以先让页面显示出来。</p>
<p>同步加载流程是瀑布模型，异步加载流程是并发模型。</p>
<h2 id="js获取屏幕坐标"><a href="#js获取屏幕坐标" class="headerlink" title="js获取屏幕坐标"></a>js获取屏幕坐标</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html xmlns=<span class="string">"http://www.w3.org/1999/xhtml"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=gb2312"</span> /&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"IE=EmulateIE7"</span>/&gt;</span><br><span class="line">    &lt;meta name=<span class="string">"auther"</span> content=<span class="string">"fq"</span> /&gt;</span><br><span class="line">    &lt;title&gt;获取鼠标坐标&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">mousePosition</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(ev.pageX || ev.pageY)&#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="attr">x</span>:ev.pageX, <span class="attr">y</span>:ev.pageY&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            x:ev.clientX + <span class="built_in">document</span>.body.scrollLeft - <span class="built_in">document</span>.body.clientLeft,</span><br><span class="line">            y:ev.clientY + <span class="built_in">document</span>.body.scrollTop - <span class="built_in">document</span>.body.clientTop</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">mouseMove</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">        ev = ev || <span class="built_in">window</span>.event;</span><br><span class="line">        <span class="keyword">var</span> mousePos = mousePosition(ev);</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'xxx'</span>).value = mousePos.x;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'yyy'</span>).value = mousePos.y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.onmousemove = mouseMove;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">X:&lt;input id="xxx" type="text" /</span>&gt; Y:<span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"yyy"</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure>
<p>注释：<br>1.<code>documentElement</code> 属性可返回文档的根节点。<br>2.<code>scrollTop()</code> 为滚动条向下移动的距离<br>3.<code>document.documentElement.scrollTop</code> 指的是滚动条的垂直坐标<br>4.<code>document.documentElement.clientHeight</code> 指的是浏览器可见区域高度</p>
<p>DTD已声明的情况下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span>&gt;</span><br></pre></td></tr></table></figure>
<p>如果在页面中添加这行标记的话</p>
<h3 id="IE"><a href="#IE" class="headerlink" title="IE"></a>IE</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.clientWidth ==&gt; BODY对象宽度</span><br><span class="line"><span class="built_in">document</span>.body.clientHeight ==&gt; BODY对象高度</span><br><span class="line"><span class="built_in">document</span>.documentElement.clientWidth ==&gt; 可见区域宽度</span><br><span class="line"><span class="built_in">document</span>.documentElement.clientHeight ==&gt; 可见区域高度</span><br></pre></td></tr></table></figure>
<h3 id="Firefox"><a href="#Firefox" class="headerlink" title="Firefox"></a>Firefox</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.documentElement.scrollHeight ==&gt; 浏览器所有内容高度</span><br><span class="line"><span class="built_in">document</span>.body.scrollHeight ==&gt; 浏览器所有内容高度</span><br><span class="line"><span class="built_in">document</span>.documentElement.scrollTop ==&gt; 浏览器滚动部分高度</span><br><span class="line"><span class="built_in">document</span>.body.scrollTop ==&gt;始终为<span class="number">0</span></span><br><span class="line"><span class="built_in">document</span>.documentElement.clientHeight ==&gt;浏览器可视部分高度</span><br><span class="line"><span class="built_in">document</span>.body.clientHeight ==&gt; 浏览器所有内容高度</span><br></pre></td></tr></table></figure>
<h3 id="Chrome"><a href="#Chrome" class="headerlink" title="Chrome"></a>Chrome</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.documentElement.scrollHeight ==&gt; 浏览器所有内容高度</span><br><span class="line"><span class="built_in">document</span>.body.scrollHeight ==&gt; 浏览器所有内容高度</span><br><span class="line"><span class="built_in">document</span>.documentElement.scrollTop==&gt; 始终为<span class="number">0</span></span><br><span class="line"><span class="built_in">document</span>.body.scrollTop==&gt;浏览器滚动部分高度</span><br><span class="line"><span class="built_in">document</span>.documentElement.clientHeight ==&gt; 浏览器可视部分高度</span><br><span class="line"><span class="built_in">document</span>.body.clientHeight ==&gt; 浏览器所有内容高度</span><br></pre></td></tr></table></figure>
<p>浏览器所有内容高度即浏览器整个框架的高度，包括滚动条卷去部分+可视部分+底部隐藏部分的高度总和</p>
<p>浏览器滚动部分高度即滚动条卷去部分高度即可视顶端距离整个对象顶端的高度。</p>
<p>综上</p>
<p>1、document.documentElement.scrollTop和document.body.scrollTop始终有一个为0，所以可以用这两个的和来求scrollTop</p>
<p>2、scrollHeight、clientHeight 在DTD已声明的情况下用documentElement，未声明的情况下用body</p>
<blockquote>
<p>clientHeight在IE和FF下，该属性没什么差别，都是指浏览器的可视区域，即除去浏览器的那些工具栏状态栏剩下的页面展示空间的高度。</p>
</blockquote>
<h2 id="PageX和clientX"><a href="#PageX和clientX" class="headerlink" title="PageX和clientX"></a>PageX和clientX</h2><p><code>PageX</code>:鼠标在页面上的位置,从页面左上角开始,即是以页面为参考点,不随滑动条移动而变化</p>
<p><code>clientX</code>:鼠标在页面上可视区域的位置,从浏览器可视区域左上角开始,即是以浏览器滑动条此刻的滑动到的位置为参考点,随滑动条移动 而变化.</p>
<p>可是悲剧的是,<code>PageX</code>只有<code>FF</code>特有,<code>IE</code>则没有这个，所以在<code>IE</code>下使用这个：</p>
<p><code>PageY=clientY+scrollTop-clientTop;</code>(只讨论Y轴,X轴同理,下同)</p>
<p><code>scrollTop</code>代表的是被浏览器滑动条滚过的长度</p>
<p><code>offsetX</code>:IE特有,鼠标相比较于触发事件的元素的位置,以元素盒子模型的内容区域的左上角为参考点,如果有boder,可能出现负值</p>
<p>只有<code>clientX和screenX</code> 皆大欢喜是W3C标准.其他的,都纠结了.<br>最给力的是，chrome和safari一条龙通杀!完全支持所有属性<br><img src="https://segmentfault.com/img/bVSrnb?w=569&amp;h=336" alt="图片描述"></p>
<h2 id="js拖拽效果"><a href="#js拖拽效果" class="headerlink" title="js拖拽效果"></a>js拖拽效果</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"zn-CN"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html;charset=UTF-8"</span> /&gt;</span><br><span class="line">    &lt;title&gt;<span class="xml"><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line">    &lt;style type=<span class="string">"text/css"</span>&gt;</span><br><span class="line">        #login&#123;</span><br><span class="line">            height: <span class="number">100</span>px;</span><br><span class="line">            width: <span class="number">100</span>px;</span><br><span class="line">            border: <span class="number">1</span>px solid black;</span><br><span class="line">            position: relative;</span><br><span class="line">            top:<span class="number">200</span>px;</span><br><span class="line">            left: <span class="number">200</span>px;</span><br><span class="line">            background: red;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=<span class="string">"login"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">"login"</span>);</span><br><span class="line">    oDiv.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> e = e || <span class="built_in">window</span>.event;<span class="comment">//window.event兼容IE,当事件发生时有效</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> diffX = e.clientX - oDiv.offsetLeft;<span class="comment">//获取鼠标点击的位置到所选对象的边框的水平距离</span></span><br><span class="line">        <span class="keyword">var</span> diffY = e.clientY - oDiv.offsetTop;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123; <span class="comment">//需设为document对象才能作用于整个文档</span></span><br><span class="line">            <span class="keyword">var</span> e = e||<span class="built_in">window</span>.event;</span><br><span class="line">            oDiv.style.left = e.clientX - diffX + <span class="string">'px'</span>;<span class="comment">//style.left表示所选对象的边框到浏览器左侧距离</span></span><br><span class="line">            oDiv.style.top = e.clientY -diffY + <span class="string">'px'</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">document</span>.onmouseup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;<span class="comment">//清除鼠标释放时的对象移动方法</span></span><br><span class="line">            <span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt; </span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>offsetTop</code> 返回的是数字，而 <code>style.top</code> 返回的是字符串，除了数字外还带有单位：<code>px</code>。</p>
</section>
    <!-- Tags START -->
    
      <div class="tags">
        <span>Tags:</span>
        
  <a href="/tags#js" >
    <span class="tag-code">js</span>
  </a>

      </div>
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/blog/59893.html">
        <span class="nav-arrow">← </span>
        
          JS特效-tab选项卡列表切换
        
      </a>
    
    
  </div>

    <!-- NAV END -->
    <!-- 打赏 START -->
    
      <div class="money-like">
        <div class="reward-btn">
          赏
          <span class="money-code">
            <span class="alipay-code">
              <div class="code-image"></div>
              <b>使用支付宝打赏</b>
            </span>
            <span class="wechat-code">
              <div class="code-image"></div>
              <b>使用微信打赏</b>
            </span>
          </span>
        </div>
        <p class="notice">若你觉得我的文章对你有帮助，欢迎点击上方按钮对我打赏</p>
      </div>
    
    <!-- 打赏 END -->
    <!-- 二维码 START -->
    
      <div class="qrcode">
        <canvas id="share-qrcode"></canvas>
        <p class="notice">扫描二维码，分享此文章</p>
      </div>
    
    <!-- 二维码 END -->
    
      <!-- Gitment START -->
      <div id="comments"></div>
      <!-- Gitment END -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">Catalog</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#IE条件注释"><span class="toc-nav-text">IE条件注释</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#html代码用js动态加载进页面"><span class="toc-nav-text">html代码用js动态加载进页面</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js判断用户访问的是PC还是mobile"><span class="toc-nav-text">js判断用户访问的是PC还是mobile</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js如何判断用户是否是用微信浏览器"><span class="toc-nav-text">js如何判断用户是否是用微信浏览器</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#JS-Jquery获取各种屏幕的宽度和高度"><span class="toc-nav-text">JS,Jquery获取各种屏幕的宽度和高度</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#jquery对文本框只读状态与可读状态的相互转化"><span class="toc-nav-text">jquery对文本框只读状态与可读状态的相互转化</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js-jquery实现密码框输入聚焦，失焦问题"><span class="toc-nav-text">js/jquery实现密码框输入聚焦，失焦问题</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#获取当前日期"><span class="toc-nav-text">获取当前日期</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#时间倒计时（固定倒计时的结束时间）"><span class="toc-nav-text">时间倒计时（固定倒计时的结束时间）</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#10秒倒计时跳转"><span class="toc-nav-text">10秒倒计时跳转</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#判断浏览器的简单有效方法"><span class="toc-nav-text">判断浏览器的简单有效方法</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#每隔0-1s改变图片的路径"><span class="toc-nav-text">每隔0.1s改变图片的路径</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#点击某个div区域之外，隐藏该div"><span class="toc-nav-text">点击某个div区域之外，隐藏该div</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js获取某年某月的哪些天是周六和周日"><span class="toc-nav-text">js获取某年某月的哪些天是周六和周日</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#如何在手机上禁止浏览器的网页滚动"><span class="toc-nav-text">如何在手机上禁止浏览器的网页滚动</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#改变type-file默认样式，”浏览”等字体"><span class="toc-nav-text">改变type=file默认样式，”浏览”等字体</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js判断变量是否未定义的代码"><span class="toc-nav-text">js判断变量是否未定义的代码</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#针对IE6，7的hack，该怎么写"><span class="toc-nav-text">针对IE6，7的hack，该怎么写</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#行内级元素可以设置宽高吗？有哪些？"><span class="toc-nav-text">行内级元素可以设置宽高吗？有哪些？</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js动态创建css样式添加到head内"><span class="toc-nav-text">js动态创建css样式添加到head内</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#form表单提交时设置编码格式"><span class="toc-nav-text">form表单提交时设置编码格式</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js-加入收藏代码"><span class="toc-nav-text">js 加入收藏代码</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js强制手机页面横屏显示"><span class="toc-nav-text">js强制手机页面横屏显示</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#jquery获得select中option的索引"><span class="toc-nav-text">jquery获得select中option的索引</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#获取上传文件的大小"><span class="toc-nav-text">获取上传文件的大小</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#限制上传文件的类型"><span class="toc-nav-text">限制上传文件的类型</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#随机产生lowwer-upper之间的随机数"><span class="toc-nav-text">随机产生lowwer - upper之间的随机数</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#保留后端传递到前端页面的空格"><span class="toc-nav-text">保留后端传递到前端页面的空格</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#为什么Image对象的src属性要写在onload事件后面？"><span class="toc-nav-text">为什么Image对象的src属性要写在onload事件后面？</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#跨浏览器添加事件"><span class="toc-nav-text">跨浏览器添加事件</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#跨浏览器移除事件"><span class="toc-nav-text">跨浏览器移除事件</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#跨浏览器阻止默认行为"><span class="toc-nav-text">跨浏览器阻止默认行为</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#跨浏览器获取目标对象"><span class="toc-nav-text">跨浏览器获取目标对象</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#跨浏览器获取滚动条位置"><span class="toc-nav-text">跨浏览器获取滚动条位置</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#跨浏览器获取可视窗口大小"><span class="toc-nav-text">跨浏览器获取可视窗口大小</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js-对象冒充"><span class="toc-nav-text">js 对象冒充</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js-异步加载和同步加载"><span class="toc-nav-text">js 异步加载和同步加载</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js获取屏幕坐标"><span class="toc-nav-text">js获取屏幕坐标</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#IE"><span class="toc-nav-text">IE</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Firefox"><span class="toc-nav-text">Firefox</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Chrome"><span class="toc-nav-text">Chrome</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#PageX和clientX"><span class="toc-nav-text">PageX和clientX</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#js拖拽效果"><span class="toc-nav-text">js拖拽效果</span></a></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'http://m.iskei.cn/blog/4808.html';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

     // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()
        
        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })

    // qrcode
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });

    // gitment
    var gitmentConfig = "imcco";
    if (gitmentConfig !== 'undefined') {
      var gitment = new Gitment({
        id: "web前端开发常用代码整理",
        owner: "imcco",
        repo: "m.github.io",
        oauth: {
          client_id: "ee7ec372a862879e3f2c",
          client_secret: "00a58ccb1a0555f87a87dc3a1b779ee8d12ded80"
        },
        theme: {
          render(state, instance) {
            const container = document.createElement('div')
            container.lang = "en-US"
            container.className = 'gitment-container gitment-root-container'
            container.appendChild(instance.renderHeader(state, instance))
            container.appendChild(instance.renderEditor(state, instance))
            container.appendChild(instance.renderComments(state, instance))
            container.appendChild(instance.renderFooter(state, instance))
            return container;
          }
        }
      })
      gitment.render(document.getElementById('comments'))
    }
  })();
</script>

    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2018 | Proudly powered by <a href="https://vuejs.io" target="_blank">vueJs</a>
    <br>
    Theme by <a href="https://github.com/imcco">Imcco</a>
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->

<script src="/js/script.js"></script>

  </body>
</html>